{
  "version": 3,
  "sources": ["../../../app/routes/blissmo.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/blissmo.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/blissmo.tsx\");\n  import.meta.hot.lastModified = \"1733871811529.259\";\n}\n// REMIX HMR END\n\nimport { useLoaderData } from \"@remix-run/react\";\nimport { motion } from \"framer-motion\";\nimport { useEffect, useRef, useState } from \"react\";\nimport invariant from \"tiny-invariant\";\n// utils\nconst shuffle = a => {\n  const array = [...a];\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [array[i], array[j]] = [array[j], array[i]];\n  }\n  return array;\n};\nconst arrayMove = (a, oldIndex, newIndex) => {\n  const array = [...a];\n  if (newIndex >= array.length) return array;\n  const old = array.splice(oldIndex, 1)[0];\n  array.splice(newIndex, 0, old);\n  return array;\n};\n\n// A clasic collider detector \uD83E\uDD70\nfunction isColliding(source, sample, threshold = 0.5) {\n  return source.x < sample.x + sample.width - threshold * sample.width && source.x + source.width > sample.x + threshold * sample.width && source.y < sample.y + sample.height - threshold * sample.height && source.y + source.height > sample.y + threshold * sample.height;\n}\n//\n\nexport const loader = () => {\n  return {\n    initialColors: [...Array(72).keys()].map(index => ({\n      color: `hsl(${360 * (index * 0.01)}, 50%, 50%)`,\n      id: index + 1\n    }))\n  };\n};\nexport default function Page() {\n  _s();\n  const {\n    initialColors\n  } = useLoaderData();\n  const [colors, setColors] = useState(initialColors);\n  const [showInts, setShowInts] = useState(true);\n  const positions = useRef([]);\n  const saveItemPosition = (index, position) => {\n    positions.current[index] = position;\n  };\n  const swapColors = (fromIndex, toIndex) => setColors(arrayMove(colors, fromIndex, toIndex));\n  const moveItem = (fromIndex, point) => {\n    for (let i = 0; i < positions.current.length; i++) {\n      const targetPosition = positions.current[i];\n      if (!isColliding({\n        ...positions.current[fromIndex],\n        ...point\n      }, targetPosition)) {\n        continue;\n      }\n      if (fromIndex === i) return;\n      swapColors(fromIndex, i);\n    }\n  };\n  return <article className=\"flex flex-col items-center gap-4 justify-center h-screen bg-neutral-900\">\n      <h2 className=\"text-white text-4xl font-bold\">Color grid by blissmo</h2>\n      <div className=\"flex gap-4\">\n        <button onClick={() => setColors(initialColors)} className=\"px-6 py-3 rounded-xl text-black active:scale-95\" style={{\n        background: \"#fff\"\n      }}>\n          Reset\n        </button>\n        <button onClick={() => setColors(shuffle(initialColors))} className=\"px-6 py-3 rounded-xl text-white active:scale-95\" style={{\n        background: \"#000\"\n      }}>\n          Shuffle\n        </button>\n        <button onClick={() => setShowInts(i => !i)} className=\"px-6 py-3 rounded-xl text-white active:scale-95 bg-blue-600\">\n          {showInts ? \"Clear\" : \"Show\"} numbers\n        </button>\n      </div>\n      <section className=\"grid grid-cols-12 gap-2\">\n        {/* <section className=\"flex flex-wrap gap-2 max-w-lg\"> */}\n        {colors.map((i, index) => <Item id={showInts ? i.id : undefined} savePosition={saveItemPosition} moveItem={moveItem} index={index} color={i.color} key={i.color} />)}\n      </section>\n    </article>;\n}\n_s(Page, \"TwUMfbvGcJNnHvF5qIWGHdDtjaw=\", false, function () {\n  return [useLoaderData];\n});\n_c = Page;\nexport const Item = ({\n  moveItem,\n  index,\n  color,\n  savePosition,\n  id\n}) => {\n  _s2();\n  const ref = useRef(null);\n  useEffect(() => {\n    invariant(ref.current);\n    const bounds = ref.current.getBoundingClientRect();\n    savePosition(index, {\n      width: bounds.width,\n      height: bounds.height,\n      x: bounds.x,\n      y: bounds.y\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return <motion.button children={id} className=\"bg-indigo-200 rounded h-12 w-12 cursor-grab active:cursor-grabbing hover:border-2 relative\" layout ref={ref} drag dragSnapToOrigin style={{\n    backgroundColor: color\n  }} transition={{\n    type: \"spring\"\n  }} onDrag={(_, {\n    point\n  }) => {\n    moveItem(index, point);\n  }} tabIndex={0} whileHover={{\n    zIndex: 10,\n    scale: 1.1,\n    boxShadow: \"0px 3px 3px rgba(0,0,0,0.15)\"\n  }} />;\n};\n_s2(Item, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c2 = Item;\nvar _c, _c2;\n$RefreshReg$(_c, \"Page\");\n$RefreshReg$(_c2, \"Item\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
